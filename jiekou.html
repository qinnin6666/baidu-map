<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>接口和面向接口编程</title>
</head>

<body>
    <p>接口是对象能响应的请求的集合。</p>
    <ol>
        <li>
            <p>用抽象类来完成面向接口编程</p>
            <p>从过程上来看，“面向接口编程”其实是“面向超类型编程”。当对象的具体类型被隐藏在超类型身后时，这些对象就可以相互替换使用。</p>
            <p>面向接口编程:针对超类型中的 abstract 方法编程。</p>
            <p>作用:</p>
            <ul>
                <li>通过向上转型来隐藏对象的真正类型，以表现对象的多态性。</li>
                <li>约定类与类之间的一些契约行为。</li>
            </ul>
        </li>
        <li>
            <p>使用 interface 来完成面向接口编程</p>
        </li>
    </ol>

    <button id="exeCommand">执行菜单命令</button>
    <!-- <script>
        var RefreshMenuBarCommand = function () { };
        RefreshMenuBarCommand.prototype.execute = function () {
            console.log('刷新菜单界面');
        };
        var AddSubMenuCommand = function () { };
        AddSubMenuCommand.prototype.execute = function () {
            console.log('增加子菜单');
        };
        var DelSubMenuCommand = function () { };
        /*****没有实现 DelSubMenuCommand.prototype.execute *****/
        // DelSubMenuCommand.prototype.execute = function(){
        // };
        var refreshMenuBarCommand = new RefreshMenuBarCommand(),
            addSubMenuCommand = new AddSubMenuCommand(),
            delSubMenuCommand = new DelSubMenuCommand();
        var setCommand = function (command) {
            document.getElementById('exeCommand').onclick = function () {
                if (typeof command.execute !== 'function') {
                    throw new Error("command 对象必须实现 execute 方法");
                }
                command.execute();
            }
        };
        setCommand(refreshMenuBarCommand);
        // 点击按钮后输出："刷新菜单界面"
        setCommand(addSubMenuCommand);
        // 点击按钮后输出："增加子菜单"
        setCommand(delSubMenuCommand);
 // 点击按钮后报错。Uncaught TypeError: undefined is not a function

    </script> -->

    <script>
        interface Command {
            execute: Function;
        }
        class RefreshMenuBarCommand implements Command {
            constructor() {
            }
            execute() {
                console.log('刷新菜单界面');
            }
        }
        class AddSubMenuCommand implements Command {
            constructor() {
            }
            execute() {
                console.log('增加子菜单');
            }
        }
        class DelSubMenuCommand implements Command {
            constructor() {
            }
            // 忘记重写 execute 方法
        }
        var refreshMenuBarCommand = new RefreshMenuBarCommand(),
            addSubMenuCommand = new AddSubMenuCommand(),
            delSubMenuCommand = new DelSubMenuCommand();
        refreshMenuBarCommand.execute(); // 输出：刷新菜单界面
        addSubMenuCommand.execute(); // 输出：增加子菜单
        delSubMenuCommand.execute(); // 输出：Uncaught TypeError: undefined is not a function 
    </script>
</body>

</html>